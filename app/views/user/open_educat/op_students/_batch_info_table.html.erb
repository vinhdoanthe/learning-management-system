<div class="table-responsive">
  <table class="table">
    <thead>
      <tr style="color: black; font-family: 'Montserrat-Boil' !important;">
        <th><%= t('user.student.code') %></th>
        <th><%= t('user.student.classmate') %></th>
        <th><%= t('user.student.registered_subject') %></th>
        <th></th>
      </tr>
    </thead>
    <tbody>
      <% op_student_courses.each do |op_student_course| %>
        <% if current_user.is_student? and active_student_course.id == op_student_course.id %>
          <tr style="color: black;">
            <% op_student = op_student_course.op_student %>
            <% unless op_student.nil? %>
              <td><%= op_student.code %></td>
              <td><%= op_student.full_name %></td>
            <% end %>
            <td>
              <% paid_levels = list_subject_level_of_student(op_student_course) %>
              <% unless batch_subjects.nil? %>
                <% batch_subjects.each do |subject| %>
                  <% if paid_levels.include?(subject) %>
                    <span class="label-course label label-default"><%= subject[1] %></span>
                  <% else %>
                    <span class="label-course label label-default" style="background: #e0e6eb;"><%= subject[1] %></span>
                  <% end %>
                <% end %>
              <% end %>
            </td>

            <% if op_student_course.state == Learning::Constant::STUDENT_BATCH_STATUS_ON %>
              <td align="right"><span class="label-edit label label-primary"><%= t('learning.batch.status.studying') %></span></td>
            <% elsif op_student_course.state == Learning::Constant::STUDENT_BATCH_STATUS_OFF %>
              <td align="right"><span class="label-edit label label-danger"><%= t('learning.batch.status.stop') %></span></td>
            <% elsif op_student_course.state == Learning::Constant::STUDENT_BATCH_STATUS_SAVE %>
              <td align="right"><span class="label-edit label label-stop"><%= t('learning.batch.status.reversation') %></span></td>
            <% else %>
              <td align="right"><span class="label-edit label label-stop"><%= t('learning.batch.status.update') %></span></td>
            <% end %>

          </tr>
        <% else %>
          <tr style="background-color: #F5F5F5">
            <% op_student = op_student_course.op_student %>
            <% unless op_student.nil? %>
              <td><%= op_student.code %></td>
              <td><%= op_student.full_name %></td>
            <% end %>
            <td>
            </td>

            <% if op_student_course.state == Learning::Constant::STUDENT_BATCH_STATUS_ON %>
              <td align="right"><span class="label-edit label label-primary"><%= t('learning.batch.status.studying') %></span></td>
            <% elsif op_student_course.state == Learning::Constant::STUDENT_BATCH_STATUS_OFF %>
              <td align="right"><span class="label-edit label label-danger"><%= t('learning.batch.status.stop') %></span></td>
            <% elsif op_student_course.state == Learning::Constant::STUDENT_BATCH_STATUS_SAVE %>
              <td align="right"><span class="label-edit label label-stop"><%= t('learning.batch.status.reversation') %></span></td>
            <% else %>
              <td align="right"><span class="label-edit label label-stop"><%= t('learning.batch.status.update') %></span></td>
            <% end %>

          </tr>
        <% end %>
      <% end %>
    </tbody>
  </table>
</div>
