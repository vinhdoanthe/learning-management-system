<%= javascript_include_tag 'adm/redeem/redeem_product_items.js' %>
<h1>Redeem Redeem Product Items</h1>
<%= link_to 'New Redeem Redeem Product Item', new_adm_redeem_redeem_product_item_path, class: 'btn btn-primary' %>
<br>
<br>
<div class='filter_form'>
  <div class='row'>
    <div class="col-md-4">
      <div class="form-group">
        <label for='filter-products'><%= t("adm.redeem.product") %></label>
        <select class="select2 select2-hidden-accessible" id='filter-products' data-placeholder="<%= t("adm.redeem.select_product") %>" name="products[]" multiple="multiple" style="width: 100%;">
          <% @products.each do |product| %>
          <option value='<%= product.id %>'><%= product.name %></option>
          <% end %>
        </select>
      </div>
    </div>
    <div class="col-md-2">
      <div class="form-group">
        <label for='filter-state'><%= t("adm.redeem.item_states") %></label>
        <select class="select2 select2-hidden-accessible" id='filter-state' data-placeholder="<%= t("adm.redeem.select_item_state") %>" name="item_states[]" multiple="multiple" style="width: 100%;">
          <% @product_item_states.each do |state| %>
          <option value='<%= state %>'><%= state %></option>
          <% end %>
        </select>
      </div>
    </div>
    <div class='col-md-3'>
      <div class="form-group">
        <label for="filter-input-date"><%= t("adm.redeem.item_input_date") %></label>
        <input type="text" class="form-control" id="filter-input-date">
      </div>
    </div>
    <div class='col-md-3'>
      <div class="form-group">
        <label for="filter-release-date"><%= t("adm.redeem.item_release_date") %></label>
        <input type="text" class="form-control" id="filter-release-date">
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-md-6">
      <button type="submit" class="btn btn-primary" id="submit_filter_product"><%= t("adm.user.filter") %></button>
    </div>
  </div>
</div>
<div class="table-responsive">
  <table class="table table-condensed table-hover">
    <thead>
      <tr>
        <th>ID</th>
        <th>Product</th>
        <th>Code</th>
        <th>Size</th>
        <th>Color</th>
        <th>State</th>
        <th>Transaction</th>
        <th>Input Date</th>
        <th>Release Date</th>
        <th colspan="3"></th>
      </tr>
    </thead>

    <tbody>
      <% @adm_redeem_redeem_products_items.each do |item| %>
        <tr>
          <th><%= item.id %></th>
          <td><%= link_to item.redeem_product&.name, adm_redeem_redeem_product_path(item.redeem_product) %></td>
          <td><%= item.item_code %></td>
          <td><%= item.redeem_product_size&.name %></td>
          <td><%= item.redeem_product_color&.name %></td>
          <td><%= item.state %></td>
          <td><%= link_to item.redeem_transaction&.id, '#' %></td>
          <td><%= item.input_date %></td>
          <td><%= item.release_date %></td>
          <td><%= link_to 'Show', adm_redeem_redeem_product_item_path(item), class: 'btn btn-primary', disabled: true %></td>
          <% if item.available? %>
            <td><%= link_to 'Destroy', adm_redeem_redeem_product_item_path(item), class: 'btn btn-danger', method: :delete, data: { confirm: 'Are you sure?' } %></td>
          <% end %> 
        </tr>
      <% end %>
    </tbody>
  </table>
</div>
<%= paginate @adm_redeem_redeem_products_items %>
