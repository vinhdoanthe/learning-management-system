<div class="box-course">
  <div class="lv-title">
    <h3><%= course[:name] %><span class="lvt-tag"><%= course[:subjects].count %></span></h3>
    <p><%= course[:short_description] %>
      <br/>
      <b><%= course[:suitable_age] %>  |  <%= course[:duration] %></b>
    </p>
    <!-- list of course images -->
    <ul>
      <% course[:images].each do |image| %>
        <li><span class="lvt-img"><%= image_tag image %></span></li>
      <% end %>
    </ul>
  </div>

  <div class="lv-slide course-swiper" >
    <div class='swiper-container'>
      <div class="swiper-wrapper">
        <% count_subject = course[:subjects].count %>
        <% course[:subjects].each do |subject| %>
            <%= render "subject_item", { subject: subject, count_subject: count_subject, course_id: course[:id] } %>
        <% end %>
      </div>
    </div>
    <div class="show_course_all  text-center">
      <% active = course[:subjects].map {|t| t[:active]}.include? true %>
      <% if active %>
      <a href="/course_detail?course_id=<%= course[:id] %>" class="btn btn-primary btn-embossed bg-5DC2A7 text-transform">
        <span class="lvb-text">Xem toàn bộ</span><br/><%= count_subject %>  Học phần
      </a>
      <% else %>
      <a class="btn btn-primary btn-embossed bg-5DC2A7 btn-box-shadow btn-box-show-all">
        <div class="lvb-text font-bold text-transform" style="font-size: 14px;">Xem toàn bộ</div>
        <span class="font-medium" style="font-size: 10px;"><%= count_subject %>  Học phần</span>
      </a>
      <% end %>
    </div>
  </div>
  <div class="swiper-custom-button-next"><%= image_tag 'global/images/arrow-next.png' %></div>
  <div class="swiper-custom-button-prev"><%= image_tag 'global/images/arrow-prev.png' %></div>  
</div>
<script type="text/javascript">
  $(document).ready(function(){
    var swiper = new Swiper('.swiper-container', {
        slidesPerView: 3,
        spaceBetween: 60,
        slidesPerGroup: 1,
        loop: true,
        loopFillGroupWithBlank: true,
        observer: true,
        observeParents: true,
        loopFillGroupWithBlank: false,
        pagination: {
          el: '.swiper-pagination',
          clickable: true,
        },
        navigation: {
          nextEl: '.swiper-custom-button-next',
          prevEl: '.swiper-custom-button-prev',
        },
      });
  })
</script>